{"ast":null,"code":"var _jsxFileName = \"/home/mateus/trybetunes/src/pages/Login.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Loading from '../components/Loading';\nimport { createUser } from '../services/userAPI';\nimport Logo from '../images/Logo.png';\nimport '../stylesheets/Login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.state = {\n      name: '',\n      loading: false,\n      redirect: false\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  async handleClick() {\n    const {\n      name\n    } = this.state;\n    const user = {\n      name\n    };\n    this.setState({\n      loading: true\n    });\n    await createUser(user);\n    this.setState({\n      redirect: true,\n      loading: false\n    });\n  }\n\n  render() {\n    const {\n      name,\n      loading,\n      redirect\n    } = this.state;\n    const minLengthForName = 3;\n    if (loading) return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 25\n    }, this);\n    if (redirect) return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 26\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-login\",\n      \"data-testid\": \"page-login\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"TrybeTunes Logo\",\n        className: \"logo\",\n        src: Logo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"login-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          htmlFor: \"login-name-input\",\n          children: [\"Nome\", /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"login-name-input\",\n            type: \"text\",\n            name: \"name\",\n            value: name,\n            \"data-testid\": \"login-name-input\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"login-submit-button\",\n          type: \"submit\",\n          \"data-testid\": \"login-submit-button\",\n          disabled: name.length < minLengthForName,\n          onClick: this.handleClick,\n          children: \"Entrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/mateus/trybetunes/src/pages/Login.js"],"names":["React","Redirect","Loading","createUser","Logo","Login","Component","constructor","handleChange","event","name","value","target","setState","state","loading","redirect","handleClick","bind","user","render","minLengthForName","length"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,UAAT,QAA2B,qBAA3B;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAO,0BAAP;;;AAEA,MAAMC,KAAN,SAAoBL,KAAK,CAACM,SAA1B,CAAoC;AAClCC,EAAAA,WAAW,GAAG;AACZ;;AADY,SAWdC,YAXc,GAWEC,KAAD,IAAW;AACxB,YAAM;AAAEC,QAAAA,IAAF;AAAQC,QAAAA;AAAR,UAAkBF,KAAK,CAACG,MAA9B;AACA,WAAKC,QAAL,CAAc;AACZ,SAACH,IAAD,GAAQC;AADI,OAAd;AAGD,KAhBa;;AAGZ,SAAKG,KAAL,GAAa;AACXJ,MAAAA,IAAI,EAAE,EADK;AAEXK,MAAAA,OAAO,EAAE,KAFE;AAGXC,MAAAA,QAAQ,EAAE;AAHC,KAAb;AAKA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACD;;AASgB,QAAXD,WAAW,GAAG;AAClB,UAAM;AAAEP,MAAAA;AAAF,QAAW,KAAKI,KAAtB;AACA,UAAMK,IAAI,GAAG;AAAET,MAAAA;AAAF,KAAb;AACA,SAAKG,QAAL,CAAc;AAAEE,MAAAA,OAAO,EAAE;AAAX,KAAd;AACA,UAAMZ,UAAU,CAACgB,IAAD,CAAhB;AACA,SAAKN,QAAL,CAAc;AACZG,MAAAA,QAAQ,EAAE,IADE;AAEZD,MAAAA,OAAO,EAAE;AAFG,KAAd;AAID;;AAEDK,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEV,MAAAA,IAAF;AAAQK,MAAAA,OAAR;AAAiBC,MAAAA;AAAjB,QAA8B,KAAKF,KAAzC;AACA,UAAMO,gBAAgB,GAAG,CAAzB;AACA,QAAIN,OAAJ,EAAa,oBAAO,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YAAP;AACb,QAAIC,QAAJ,EAAc,oBAAO,QAAC,QAAD;AAAU,MAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,YAAP;AACd,wBACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAA4B,qBAAY,YAAxC;AAAA,8BACE;AAAK,QAAA,GAAG,EAAC,iBAAT;AAA2B,QAAA,SAAS,EAAC,MAArC;AAA4C,QAAA,GAAG,EAAGZ;AAAlD;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAM,QAAA,SAAS,EAAC,YAAhB;AAAA,gCACE;AAAO,UAAA,SAAS,EAAC,OAAjB;AAAyB,UAAA,OAAO,EAAC,kBAAjC;AAAA,0CAEE;AACE,YAAA,SAAS,EAAC,kBADZ;AAEE,YAAA,IAAI,EAAC,MAFP;AAGE,YAAA,IAAI,EAAC,MAHP;AAIE,YAAA,KAAK,EAAGM,IAJV;AAKE,2BAAY,kBALd;AAME,YAAA,QAAQ,EAAG,KAAKF;AANlB;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAYE;AACE,UAAA,SAAS,EAAC,qBADZ;AAEE,UAAA,IAAI,EAAC,QAFP;AAGE,yBAAY,qBAHd;AAIE,UAAA,QAAQ,EAAGE,IAAI,CAACY,MAAL,GAAcD,gBAJ3B;AAKE,UAAA,OAAO,EAAG,KAAKJ,WALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAZF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AA2BD;;AA9DiC;;AAiEpC,eAAeZ,KAAf","sourcesContent":["import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Loading from '../components/Loading';\nimport { createUser } from '../services/userAPI';\nimport Logo from '../images/Logo.png';\nimport '../stylesheets/Login.css';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      name: '',\n      loading: false,\n      redirect: false,\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  async handleClick() {\n    const { name } = this.state;\n    const user = { name };\n    this.setState({ loading: true });\n    await createUser(user);\n    this.setState({\n      redirect: true,\n      loading: false,\n    });\n  }\n\n  render() {\n    const { name, loading, redirect } = this.state;\n    const minLengthForName = 3;\n    if (loading) return <Loading />;\n    if (redirect) return <Redirect to=\"/search\" />;\n    return (\n      <div className=\"page-login\" data-testid=\"page-login\">\n        <img alt=\"TrybeTunes Logo\" className=\"logo\" src={ Logo } />\n        <form className=\"login-form\">\n          <label className=\"label\" htmlFor=\"login-name-input\">\n            Nome\n            <input\n              className=\"login-name-input\"\n              type=\"text\"\n              name=\"name\"\n              value={ name }\n              data-testid=\"login-name-input\"\n              onChange={ this.handleChange }\n            />\n          </label>\n          <button\n            className=\"login-submit-button\"\n            type=\"submit\"\n            data-testid=\"login-submit-button\"\n            disabled={ name.length < minLengthForName }\n            onClick={ this.handleClick }\n          >\n            Entrar\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}