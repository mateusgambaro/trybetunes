{"ast":null,"code":"var _jsxFileName = \"/home/mateus/sd-014-b-project-trybetunes/src/pages/Login.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Loading from '../components/Loading';\nimport { createUser } from '../services/userAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.state = {\n      name: '',\n      loading: false,\n      redirect: false\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  async handleClick() {\n    const {\n      name\n    } = this.state;\n    const user = {\n      name\n    };\n    this.setState({\n      loading: true\n    });\n    await createUser(user);\n    this.setState({\n      redirect: true,\n      loading: false\n    });\n  }\n\n  render() {\n    const {\n      name,\n      loading,\n      redirect\n    } = this.state;\n    const minLengthForName = 3;\n    if (loading) return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 25\n    }, this);\n    if (redirect) return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 26\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-login\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: [\"Nome\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            value: name,\n            \"data-testid\": \"login-name-input\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          \"data-testid\": \"login-submit-button\",\n          disabled: name.length < minLengthForName,\n          onClick: this.handleClick,\n          children: \"Entrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/mateus/sd-014-b-project-trybetunes/src/pages/Login.js"],"names":["React","Redirect","Loading","createUser","Login","Component","constructor","handleChange","event","name","value","target","setState","state","loading","redirect","handleClick","bind","user","render","minLengthForName","length"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,UAAT,QAA2B,qBAA3B;;;AAEA,MAAMC,KAAN,SAAoBJ,KAAK,CAACK,SAA1B,CAAoC;AAClCC,EAAAA,WAAW,GAAG;AACZ;;AADY,SAWdC,YAXc,GAWEC,KAAD,IAAW;AACxB,YAAM;AAAEC,QAAAA,IAAF;AAAQC,QAAAA;AAAR,UAAkBF,KAAK,CAACG,MAA9B;AACA,WAAKC,QAAL,CAAc;AACZ,SAACH,IAAD,GAAQC;AADI,OAAd;AAGD,KAhBa;;AAGZ,SAAKG,KAAL,GAAa;AACXJ,MAAAA,IAAI,EAAE,EADK;AAEXK,MAAAA,OAAO,EAAE,KAFE;AAGXC,MAAAA,QAAQ,EAAE;AAHC,KAAb;AAKA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACD;;AASgB,QAAXD,WAAW,GAAG;AAClB,UAAM;AAAEP,MAAAA;AAAF,QAAW,KAAKI,KAAtB;AACA,UAAMK,IAAI,GAAG;AAAET,MAAAA;AAAF,KAAb;AACA,SAAKG,QAAL,CAAc;AAAEE,MAAAA,OAAO,EAAE;AAAX,KAAd;AACA,UAAMX,UAAU,CAACe,IAAD,CAAhB;AACA,SAAKN,QAAL,CAAc;AACZG,MAAAA,QAAQ,EAAE,IADE;AAEZD,MAAAA,OAAO,EAAE;AAFG,KAAd;AAID;;AAEDK,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEV,MAAAA,IAAF;AAAQK,MAAAA,OAAR;AAAiBC,MAAAA;AAAjB,QAA8B,KAAKF,KAAzC;AACA,UAAMO,gBAAgB,GAAG,CAAzB;AACA,QAAIN,OAAJ,EAAa,oBAAO,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YAAP;AACb,QAAIC,QAAJ,EAAc,oBAAO,QAAC,QAAD;AAAU,MAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,YAAP;AACd,wBACE;AAAK,qBAAY,YAAjB;AAAA,6BACE;AAAA,gCACE;AAAO,UAAA,OAAO,EAAC,MAAf;AAAA,0CAEE;AACE,YAAA,IAAI,EAAC,MADP;AAEE,YAAA,IAAI,EAAC,MAFP;AAGE,YAAA,KAAK,EAAGN,IAHV;AAIE,2BAAY,kBAJd;AAKE,YAAA,QAAQ,EAAG,KAAKF;AALlB;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAWE;AACE,UAAA,IAAI,EAAC,QADP;AAEE,yBAAY,qBAFd;AAGE,UAAA,QAAQ,EAAGE,IAAI,CAACY,MAAL,GAAcD,gBAH3B;AAIE,UAAA,OAAO,EAAG,KAAKJ,WAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAXF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAwBD;;AA3DiC;;AA8DpC,eAAeZ,KAAf","sourcesContent":["import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Loading from '../components/Loading';\nimport { createUser } from '../services/userAPI';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      name: '',\n      loading: false,\n      redirect: false,\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  async handleClick() {\n    const { name } = this.state;\n    const user = { name };\n    this.setState({ loading: true });\n    await createUser(user);\n    this.setState({\n      redirect: true,\n      loading: false,\n    });\n  }\n\n  render() {\n    const { name, loading, redirect } = this.state;\n    const minLengthForName = 3;\n    if (loading) return <Loading />;\n    if (redirect) return <Redirect to=\"/search\" />;\n    return (\n      <div data-testid=\"page-login\">\n        <form>\n          <label htmlFor=\"name\">\n            Nome\n            <input\n              type=\"text\"\n              name=\"name\"\n              value={ name }\n              data-testid=\"login-name-input\"\n              onChange={ this.handleChange }\n            />\n          </label>\n          <button\n            type=\"submit\"\n            data-testid=\"login-submit-button\"\n            disabled={ name.length < minLengthForName }\n            onClick={ this.handleClick }\n          >\n            Entrar\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}